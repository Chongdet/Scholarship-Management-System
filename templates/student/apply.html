<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏ó‡∏∏‡∏ô‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤ - Ubon Ratchathani University</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Prompt:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">

    <style>
        body { font-family: 'Prompt', sans-serif; }

        /* ---- Upload Drop-zone ---- */
        #drop-zone {
            border: 2px dashed #93c5fd;
            transition: border-color 0.2s, background-color 0.2s;
        }
        #drop-zone.drag-over {
            border-color: #1e3a8a;
            background-color: #eff6ff;
        }

        /* ---- Input focus glow ---- */
        .form-input:focus {
            outline: none;
            box-shadow: 0 0 0 3px rgba(250, 204, 21, 0.4);
            border-color: #1e3a8a;
        }

        /* ---- Flash messages ---- */
        @keyframes slide-in {
            from { transform: translateX(100%); opacity: 0; }
            to   { transform: translateX(0);    opacity: 1; }
        }
        .animate-slide-in { animation: slide-in 0.3s ease-out; }

        /* ---- Step indicator ---- */
        .step-active   { background: #1e3a8a; color: #fff; }
        .step-inactive { background: #e0e7ef; color: #64748b; }
    </style>
</head>
<body class="bg-sky-50 min-h-screen flex flex-col m-0 p-0">

    <!-- ===== HEADER ===== -->
    <header class="bg-blue-900 text-white shadow-md w-full">
        <div class="px-8 py-4 flex justify-between items-center w-full">
            <div class="flex items-center gap-4">
                <div class="w-14 h-14 flex items-center justify-center">
                    <img src="{{ url_for('static', filename='images/ubu_logo.png') }}" alt="UBU Logo" class="w-full h-full object-contain">
                </div>
                <div>
                    <h1 class="text-2xl font-bold text-yellow-400 tracking-wide">‡∏£‡∏∞‡∏ö‡∏ö‡∏ó‡∏∏‡∏ô‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤</h1>
                    <p class="text-sm text-blue-200">Ubon Ratchathani University</p>
                </div>
            </div>
            <nav class="flex items-center gap-6">
                <div class="flex gap-2">
                    <a href="/student/dashboard" class="text-white hover:text-yellow-400 px-5 py-2 rounded-full text-sm font-medium transition-all">‡∏ó‡∏∏‡∏ô‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤</a>
                    <a href="/student/scholarships" class="text-white hover:text-yellow-400 px-5 py-2 rounded-full text-sm font-medium transition-all">‡∏£‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ö/‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®</a>
                    <a href="/student/status" class="text-white hover:text-yellow-400 px-5 py-2 rounded-full text-sm font-medium transition-all">‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</a>
                    <a href="/student/apply" class="text-white border-b-4 border-yellow-400 px-1 py-2 text-sm font-bold">‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏ó‡∏∏‡∏ô</a>
                </div>
                <div class="bg-blue-800 px-4 py-2 rounded-full text-sm border border-blue-700 flex items-center gap-2 text-yellow-100">
                    üë§ ‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤
                </div>
                <a href="/logout" class="bg-yellow-400 text-blue-900 px-5 py-2.5 rounded-full font-bold hover:bg-yellow-300 transition-all shadow-md hover:shadow-lg">‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö üö™</a>
            </nav>
        </div>
    </header>

    <!-- ===== FLASH MESSAGES ===== -->
    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
        <div id="flash-container" class="fixed top-20 right-8 z-50 space-y-2 w-96">
            {% for category, message in messages %}
            <div class="flash-message animate-slide-in flex items-start gap-3 px-5 py-4 rounded-xl shadow-lg
                        {{ 'bg-green-500' if category == 'success' else 'bg-red-500' }} text-white">
                <span class="text-xl mt-0.5">{{ '‚úì' if category == 'success' else '‚úï' }}</span>
                <span class="flex-1 text-sm leading-relaxed">{{ message }}</span>
                <button onclick="this.parentElement.remove()" class="ml-2 text-white hover:text-gray-200 font-bold text-xl leading-none">&times;</button>
            </div>
            {% endfor %}
        </div>
        <script>
            setTimeout(() => {
                const fc = document.getElementById('flash-container');
                if (fc) {
                    fc.querySelectorAll('.flash-message').forEach(m => {
                        m.style.transition = 'opacity 0.5s, transform 0.5s';
                        m.style.opacity = '0';
                        m.style.transform = 'translateX(100%)';
                        setTimeout(() => m.remove(), 500);
                    });
                }
            }, 4000);
        </script>
        {% endif %}
    {% endwith %}

    <!-- ===== MAIN ===== -->
    <main class="flex-grow w-full px-8 py-10 max-w-5xl mx-auto w-full">

        <!-- Page heading -->
        <div class="mb-8 text-center">
            <h2 class="text-4xl font-extrabold text-blue-900 mb-2">üìù ‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏ó‡∏∏‡∏ô‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤</h2>
            <p class="text-gray-500 text-sm">‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô‡πÅ‡∏•‡πâ‡∏ß‡πÅ‡∏ô‡∏ö‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏™‡∏°‡∏±‡∏Ñ‡∏£</p>
        </div>

        <!-- Step indicator -->
        <div class="flex items-center justify-center gap-4 mb-10">
            <div class="flex items-center gap-2">
                <div class="w-8 h-8 rounded-full step-active flex items-center justify-center font-bold text-sm">1</div>
                <span class="text-sm font-medium text-blue-900">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß</span>
            </div>
            <div class="h-px w-12 bg-blue-200"></div>
            <div class="flex items-center gap-2">
                <div class="w-8 h-8 rounded-full step-active flex items-center justify-center font-bold text-sm">2</div>
                <span class="text-sm font-medium text-blue-900">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡∏∏‡∏ô</span>
            </div>
            <div class="h-px w-12 bg-blue-200"></div>
            <div class="flex items-center gap-2">
                <div class="w-8 h-8 rounded-full step-active flex items-center justify-center font-bold text-sm">3</div>
                <span class="text-sm font-medium text-blue-900">‡πÅ‡∏ô‡∏ö‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£</span>
            </div>
        </div>

        <!-- ============================================================
             SECTION 1: Application Form
             ============================================================ -->
        <div class="bg-white rounded-2xl shadow-sm border border-gray-100 p-8 mb-8">
            <div class="flex items-center gap-3 mb-6">
                <div class="w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center text-blue-900 font-bold">1</div>
                <div>
                    <h3 class="text-lg font-bold text-blue-900">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡∏∏‡∏ô</h3>
                    <p class="text-xs text-gray-400">‡∏£‡∏∞‡∏ö‡∏ö Auto-Fill ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î‡πÉ‡∏´‡πâ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥</p>
                </div>
                {% if prefill %}
                <span class="ml-auto bg-yellow-100 text-yellow-700 text-xs font-semibold px-3 py-1 rounded-full border border-yellow-200">
                    ‚ú® Auto-Fill ‡πÅ‡∏•‡πâ‡∏ß
                </span>
                {% endif %}
            </div>

            <form id="apply-form" method="POST" action="{{ url_for('student.apply_scholarship') }}" class="space-y-5">

                <div class="grid grid-cols-1 md:grid-cols-2 gap-5">

                    <!-- ‡∏£‡∏´‡∏±‡∏™‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤ -->
                    <div>
                        <label for="student_id" class="block text-sm font-semibold text-gray-700 mb-1">
                            ‡∏£‡∏´‡∏±‡∏™‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤ <span class="text-red-500">*</span>
                        </label>
                        <input
                            type="text"
                            id="student_id"
                            name="student_id"
                            value="{{ prefill.get('student_id', '') }}"
                            placeholder="‡πÄ‡∏ä‡πà‡∏ô 68114540001"
                            maxlength="20"
                            required
                            class="form-input w-full border border-gray-300 rounded-xl px-4 py-3 text-sm transition-all"
                        >
                    </div>

                    <!-- ‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏• -->
                    <div>
                        <label for="student_name" class="block text-sm font-semibold text-gray-700 mb-1">
                            ‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏• <span class="text-red-500">*</span>
                        </label>
                        <input
                            type="text"
                            id="student_name"
                            name="student_name"
                            value="{{ prefill.get('student_name', '') }}"
                            placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏ô‡∏≤‡∏¢ ‡∏™‡∏°‡∏ä‡∏≤‡∏¢ ‡πÉ‡∏à‡∏î‡∏µ"
                            required
                            class="form-input w-full border border-gray-300 rounded-xl px-4 py-3 text-sm transition-all"
                        >
                    </div>

                    <!-- ‡∏Ñ‡∏ì‡∏∞ -->
                    <div>
                        <label for="faculty" class="block text-sm font-semibold text-gray-700 mb-1">
                            ‡∏Ñ‡∏ì‡∏∞ <span class="text-red-500">*</span>
                        </label>
                        <select
                            id="faculty"
                            name="faculty"
                            required
                            class="form-input w-full border border-gray-300 rounded-xl px-4 py-3 text-sm bg-white transition-all"
                        >
                            <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Ñ‡∏ì‡∏∞ --</option>
                            {% set faculties = [
                                '‡∏Ñ‡∏ì‡∏∞‡∏ß‡∏¥‡∏®‡∏ß‡∏Å‡∏£‡∏£‡∏°‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå',
                                '‡∏Ñ‡∏ì‡∏∞‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå',
                                '‡∏Ñ‡∏ì‡∏∞‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå',
                                '‡∏Ñ‡∏ì‡∏∞‡∏®‡∏¥‡∏•‡∏õ‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå',
                                '‡∏Ñ‡∏ì‡∏∞‡∏ô‡∏¥‡∏ï‡∏¥‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå',
                                '‡∏Ñ‡∏ì‡∏∞‡πÄ‡∏Å‡∏©‡∏ï‡∏£‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå',
                                '‡∏Ñ‡∏ì‡∏∞‡πÅ‡∏û‡∏ó‡∏¢‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå',
                                '‡∏Ñ‡∏ì‡∏∞‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå',
                                '‡∏Ñ‡∏ì‡∏∞‡πÄ‡∏†‡∏™‡∏±‡∏ä‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå',
                                '‡∏Ñ‡∏ì‡∏∞‡∏®‡∏¥‡∏•‡∏õ‡∏õ‡∏£‡∏∞‡∏¢‡∏∏‡∏Å‡∏ï‡πå‡πÅ‡∏•‡∏∞‡∏™‡∏ñ‡∏≤‡∏õ‡∏±‡∏ï‡∏¢‡∏Å‡∏£‡∏£‡∏°‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå'
                            ] %}
                            {% for f in faculties %}
                            <option value="{{ f }}" {{ 'selected' if prefill.get('faculty') == f else '' }}>{{ f }}</option>
                            {% endfor %}
                        </select>
                    </div>

                    <!-- GPA -->
                    <div>
                        <label for="gpa" class="block text-sm font-semibold text-gray-700 mb-1">
                            ‡πÄ‡∏Å‡∏£‡∏î‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢‡∏™‡∏∞‡∏™‡∏° (GPA) <span class="text-red-500">*</span>
                        </label>
                        <input
                            type="number"
                            id="gpa"
                            name="gpa"
                            value="{{ prefill.get('gpa', '') }}"
                            placeholder="‡πÄ‡∏ä‡πà‡∏ô 3.50"
                            step="0.01"
                            min="0.00"
                            max="4.00"
                            required
                            class="form-input w-full border border-gray-300 rounded-xl px-4 py-3 text-sm transition-all"
                        >
                    </div>
                </div>

                <!-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡∏∏‡∏ô -->
                <div>
                    <label for="scholarship_id" class="block text-sm font-semibold text-gray-700 mb-1">
                        ‡∏ó‡∏∏‡∏ô‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏™‡∏°‡∏±‡∏Ñ‡∏£ <span class="text-red-500">*</span>
                    </label>
                    <select
                        id="scholarship_id"
                        name="scholarship_id"
                        required
                        class="form-input w-full border border-gray-300 rounded-xl px-4 py-3 text-sm bg-white transition-all"
                    >
                        <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡∏∏‡∏ô‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤ --</option>
                        {% for sch in scholarships %}
                        <option value="{{ sch.id }}"
                            {{ 'selected' if prefill.get('scholarship_id') == sch.id else '' }}>
                            {{ sch.name }}
                        </option>
                        {% endfor %}
                    </select>
                </div>

                <!-- ‡∏õ‡∏∏‡πà‡∏°‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô -->
                <div class="flex justify-end pt-2">
                    <button
                        type="submit"
                        class="bg-blue-900 text-white font-bold px-8 py-3 rounded-xl hover:bg-yellow-400 hover:text-blue-900 transition-all shadow-md hover:shadow-lg flex items-center gap-2"
                    >
                        <span>üì®</span> ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏°‡∏±‡∏Ñ‡∏£
                    </button>
                </div>

            </form>
        </div>

        <!-- ============================================================
             SECTION 2: Document Upload
             ============================================================ -->
        <div class="bg-white rounded-2xl shadow-sm border border-gray-100 p-8">
            <div class="flex items-center gap-3 mb-6">
                <div class="w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center text-blue-900 font-bold">2</div>
                <div>
                    <h3 class="text-lg font-bold text-blue-900">‡πÅ‡∏ô‡∏ö‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏™‡∏°‡∏±‡∏Ñ‡∏£</h3>
                    <p class="text-xs text-gray-400">‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö PDF, PNG, JPG ‚Äî ‡∏Ç‡∏ô‡∏≤‡∏î‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô 5 MB ‡∏ï‡πà‡∏≠‡πÑ‡∏ü‡∏•‡πå</p>
                </div>
            </div>

            <!-- ‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£ -->
            <div class="bg-blue-50 border border-blue-100 rounded-xl p-4 mb-6">
                <p class="text-sm font-semibold text-blue-800 mb-2">üìã ‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏ô‡∏ö</p>
                <ul class="list-disc list-inside text-sm text-blue-700 space-y-1">
                    <li>‡∏™‡∏≥‡πÄ‡∏ô‡∏≤‡∏ö‡∏±‡∏ï‡∏£‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏ä‡∏ô (1 ‡∏â‡∏ö‡∏±‡∏ö)</li>
                    <li>‡∏™‡∏≥‡πÄ‡∏ô‡∏≤‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏ö‡πâ‡∏≤‡∏ô (1 ‡∏â‡∏ö‡∏±‡∏ö)</li>
                    <li>‡πÉ‡∏ö‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô (Transcript) ‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î</li>
                    <li>‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡∏£‡∏±‡∏ö‡∏£‡∏≠‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏£‡∏∞‡∏û‡∏§‡∏ï‡∏¥ (‡∏à‡∏≤‡∏Å‡∏≠‡∏≤‡∏à‡∏≤‡∏£‡∏¢‡πå‡∏ó‡∏µ‡πà‡∏õ‡∏£‡∏∂‡∏Å‡∏©‡∏≤)</li>
                    <li>‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏≠‡∏∑‡πà‡∏ô‡πÜ ‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)</li>
                </ul>
            </div>

            <form
                id="upload-form"
                method="POST"
                action="{{ url_for('student.upload_documents') }}"
                enctype="multipart/form-data"
            >
                <!-- ‡∏ã‡πà‡∏≠‡∏ô student_id ‡πÑ‡∏ß‡πâ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡πà‡∏á‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î -->
                <input type="hidden" name="student_id" id="upload-student-id" value="{{ prefill.get('student_id', '') }}">

                <!-- Drop Zone -->
                <div
                    id="drop-zone"
                    class="rounded-2xl p-10 text-center cursor-pointer mb-4 transition-all"
                    onclick="document.getElementById('file-input').click()"
                >
                    <div class="text-5xl mb-3">üìÇ</div>
                    <p class="font-semibold text-gray-600 text-sm">‡∏Ñ‡∏•‡∏¥‡∏Å‡∏´‡∏£‡∏∑‡∏≠‡∏•‡∏≤‡∏Å‡πÑ‡∏ü‡∏•‡πå‡∏°‡∏≤‡∏ß‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà</p>
                    <p class="text-xs text-gray-400 mt-1">PDF, PNG, JPG, JPEG ‚Äî ‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î 5 MB ‡∏ï‡πà‡∏≠‡πÑ‡∏ü‡∏•‡πå</p>
                </div>

                <input
                    type="file"
                    id="file-input"
                    name="documents"
                    accept=".pdf,.png,.jpg,.jpeg"
                    multiple
                    class="hidden"
                >

                <!-- ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å -->
                <ul id="file-list" class="space-y-2 mb-5"></ul>

                <div class="flex justify-end">
                    <button
                        type="submit"
                        id="upload-btn"
                        disabled
                        class="bg-gray-300 text-gray-500 font-bold px-8 py-3 rounded-xl cursor-not-allowed transition-all flex items-center gap-2"
                    >
                        <span>‚¨ÜÔ∏è</span> ‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£
                    </button>
                </div>
            </form>
        </div>

    </main>

    <!-- ===== FOOTER ===== -->
    <footer class="bg-blue-950 text-blue-200 py-8 px-8 w-full text-sm mt-auto">
        <div class="flex justify-between items-start">
            <div>
                <strong class="text-yellow-400 text-base">‡∏™‡∏≥‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤</strong><br>
                ‡∏°‡∏´‡∏≤‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏•‡∏±‡∏¢‡∏≠‡∏∏‡∏ö‡∏•‡∏£‡∏≤‡∏ä‡∏ò‡∏≤‡∏ô‡∏µ<br>
                85 ‡∏ñ‡∏ô‡∏ô‡∏™‡∏ñ‡∏•‡∏°‡∏≤‡∏£‡πå‡∏Ñ ‡∏ï‡∏≥‡∏ö‡∏•‡πÄ‡∏°‡∏∑‡∏≠‡∏á‡∏®‡∏£‡∏µ‡πÑ‡∏Ñ ‡∏≠‡∏≥‡πÄ‡∏†‡∏≠‡∏ß‡∏≤‡∏£‡∏¥‡∏ô‡∏ä‡∏≥‡∏£‡∏≤‡∏ö ‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î‡∏≠‡∏∏‡∏ö‡∏•‡∏£‡∏≤‡∏ä‡∏ò‡∏≤‡∏ô‡∏µ 34190
            </div>
            <div class="text-right">
                <strong class="text-yellow-400 text-base">‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡πÄ‡∏£‡∏≤</strong><br>
                Email: ubustudent.d@ubu.ac.th<br>
                ‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå: 045-353000 ‡∏ï‡πà‡∏≠ 1210
            </div>
        </div>
    </footer>

    <!-- ===== SCRIPTS ===== -->
    <script>
        /* ---- Sync student_id ‡πÑ‡∏õ‡∏¢‡∏±‡∏á‡∏ü‡∏≠‡∏£‡πå‡∏° upload ---- */
        document.getElementById('student_id').addEventListener('input', function () {
            document.getElementById('upload-student-id').value = this.value;
        });

        /* ---- Drop Zone logic ---- */
        const dropZone   = document.getElementById('drop-zone');
        const fileInput  = document.getElementById('file-input');
        const fileList   = document.getElementById('file-list');
        const uploadBtn  = document.getElementById('upload-btn');

        function updateFileList(files) {
            fileList.innerHTML = '';
            if (files.length === 0) {
                uploadBtn.disabled = true;
                uploadBtn.className = 'bg-gray-300 text-gray-500 font-bold px-8 py-3 rounded-xl cursor-not-allowed transition-all flex items-center gap-2';
                return;
            }
            uploadBtn.disabled = false;
            uploadBtn.className = 'bg-blue-900 text-white font-bold px-8 py-3 rounded-xl hover:bg-yellow-400 hover:text-blue-900 transition-all shadow-md hover:shadow-lg flex items-center gap-2';

            Array.from(files).forEach((file, idx) => {
                const sizeMB = (file.size / (1024 * 1024)).toFixed(2);
                const isOk   = file.size <= 5 * 1024 * 1024;
                const ext    = file.name.split('.').pop().toLowerCase();
                const typeOk = ['pdf','png','jpg','jpeg'].includes(ext);
                const icon   = file.type.startsWith('image/') ? 'üñºÔ∏è' : 'üìÑ';
                const li = document.createElement('li');
                li.className = `flex items-center justify-between px-4 py-3 rounded-xl text-sm border 
                    ${isOk && typeOk ? 'bg-green-50 border-green-200 text-green-800' : 'bg-red-50 border-red-200 text-red-700'}`;
                li.innerHTML = `
                    <span class="flex items-center gap-2 flex-1 truncate">
                        <span>${icon}</span>
                        <span class="font-medium truncate">${file.name}</span>
                    </span>
                    <span class="ml-4 shrink-0 font-semibold">${sizeMB} MB</span>
                    ${!typeOk ? '<span class="ml-2 text-xs text-red-600">‡πÑ‡∏°‡πà‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏ä‡∏ô‡∏¥‡∏î‡πÑ‡∏ü‡∏•‡πå‡∏ô‡∏µ‡πâ</span>' : ''}
                    ${typeOk && !isOk ? '<span class="ml-2 text-xs text-red-600">‡πÑ‡∏ü‡∏•‡πå‡πÉ‡∏´‡∏ç‡πà‡πÄ‡∏Å‡∏¥‡∏ô 5 MB</span>' : ''}
                `;
                fileList.appendChild(li);
            });
        }

        fileInput.addEventListener('change', () => updateFileList(fileInput.files));

        dropZone.addEventListener('dragover', e  => { e.preventDefault(); dropZone.classList.add('drag-over'); });
        dropZone.addEventListener('dragleave', () => dropZone.classList.remove('drag-over'));
        dropZone.addEventListener('drop', e => {
            e.preventDefault();
            dropZone.classList.remove('drag-over');
            // ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà drop ‡∏•‡∏á‡πÉ‡∏ô input
            const dt = e.dataTransfer;
            fileInput.files = dt.files;
            updateFileList(dt.files);
        });
    </script>

</body>
</html>
