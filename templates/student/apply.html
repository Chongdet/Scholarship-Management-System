<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏ó‡∏∏‡∏ô‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤ - Ubon Ratchathani University</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Prompt:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <style>
        body { font-family: 'Prompt', sans-serif; }
        #drop-zone { border: 2px dashed #93c5fd; transition: border-color 0.2s, background-color 0.2s; }
        #drop-zone.drag-over { border-color: #1e3a8a; background-color: #eff6ff; }
        .form-input:focus { outline: none; box-shadow: 0 0 0 3px rgba(250,204,21,0.4); border-color: #1e3a8a; }
        @keyframes slide-in { from{transform:translateX(100%);opacity:0} to{transform:translateX(0);opacity:1} }
        .animate-slide-in { animation: slide-in 0.3s ease-out; }
        .section-card { background:#fff; border-radius:1rem; border:1px solid #f0f4f8; padding:2rem; margin-bottom:1.5rem; box-shadow:0 1px 4px rgba(0,0,0,0.06); }
        .section-header { display:flex; align-items:center; gap:0.75rem; margin-bottom:1.25rem; padding-bottom:0.75rem; border-bottom:2px solid #eff6ff; }
        .section-num { width:2.25rem; height:2.25rem; background:#1e3a8a; color:#fff; border-radius:50%; display:flex; align-items:center; justify-content:center; font-weight:700; font-size:0.9rem; flex-shrink:0; }
    </style>
</head>
<body class="bg-sky-50 min-h-screen flex flex-col m-0 p-0">

<!-- HEADER -->
<header class="bg-blue-900 text-white shadow-md w-full">
    <div class="px-8 py-4 flex justify-between items-center w-full">
        <div class="flex items-center gap-4">
            <div class="w-14 h-14 flex items-center justify-center">
                <img src="{{ url_for('static', filename='images/ubu_logo.png') }}" alt="UBU Logo" class="w-full h-full object-contain">
            </div>
            <div>
                <h1 class="text-2xl font-bold text-yellow-400 tracking-wide">‡∏£‡∏∞‡∏ö‡∏ö‡∏ó‡∏∏‡∏ô‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤</h1>
                <p class="text-sm text-blue-200">Ubon Ratchathani University</p>
            </div>
        </div>
        <nav class="flex items-center gap-6">
            <div class="flex gap-2">
                <a href="/student/dashboard" class="text-white hover:text-yellow-400 px-5 py-2 rounded-full text-sm font-medium transition-all">‡∏ó‡∏∏‡∏ô‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤</a>
                <a href="/student/scholarships" class="text-white hover:text-yellow-400 px-5 py-2 rounded-full text-sm font-medium transition-all">‡∏£‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ö/‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®</a>
                <a href="/student/status" class="text-white hover:text-yellow-400 px-5 py-2 rounded-full text-sm font-medium transition-all">‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</a>
                <a href="/student/apply" class="text-white border-b-4 border-yellow-400 px-1 py-2 text-sm font-bold">‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏ó‡∏∏‡∏ô</a>
            </div>
            <div class="bg-blue-800 px-4 py-2 rounded-full text-sm border border-blue-700 flex items-center gap-2 text-yellow-100">üë§ ‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤</div>
            <a href="/logout" class="bg-yellow-400 text-blue-900 px-5 py-2.5 rounded-full font-bold hover:bg-yellow-300 transition-all shadow-md">‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö üö™</a>
        </nav>
    </div>
</header>

<!-- FLASH MESSAGES -->
<div id="flash-container" class="fixed top-20 right-8 z-50 space-y-2 w-96">
    
    <div class="flash-message animate-slide-in flex items-start gap-3 px-5 py-4 rounded-xl shadow-lg {{ 'bg-green-500' if category == 'success' else 'bg-red-500' }} text-white">
        <span class="text-xl mt-0.5">{{ '‚úì' if category == 'success' else '‚úï' }}</span>
        <span class="flex-1 text-sm leading-relaxed">{{ message }}</span>
        <button onclick="this.parentElement.remove()" class="ml-2 text-white hover:text-gray-200 font-bold text-xl leading-none">&times;</button>
    </div>
    
</div>
<script>
    setTimeout(()=>{const fc=document.getElementById('flash-container');if(fc){fc.querySelectorAll('.flash-message').forEach(m=>{m.style.transition='opacity 0.5s,transform 0.5s';m.style.opacity='0';m.style.transform='translateX(100%)';setTimeout(()=>m.remove(),500)});}},4000);
</script>


<!-- MAIN -->
<main class="flex-grow w-full px-4 py-10 max-w-5xl mx-auto">

    <!-- Heading -->
    <div class="mb-6 text-center">
        <h2 class="text-3xl font-extrabold text-blue-900 mb-1">üìù ‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏ó‡∏∏‡∏ô‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤</h2>
        <p class="text-gray-500 text-sm">‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô‡πÅ‡∏•‡πâ‡∏ß‡πÅ‡∏ô‡∏ö‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏™‡∏°‡∏±‡∏Ñ‡∏£</p>
        
        <span class="inline-block mt-2 bg-yellow-100 text-yellow-700 text-xs font-semibold px-3 py-1 rounded-full border border-yellow-200">‚ú® Auto-Fill ‡πÅ‡∏•‡πâ‡∏ß</span>
        
    </div>

    <form id="apply-form" method="POST" action="{{ url_for('student.apply_scholarship') }}" enctype="multipart/form-data" class="space-y-0">

    <!-- ===== ‡∏ó‡∏∏‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏™‡∏°‡∏±‡∏Ñ‡∏£ ===== -->
    <div class="section-card">
        <div class="section-header">
            <div class="section-num">‚òÖ</div>
            <div>
                <h3 class="text-base font-bold text-blue-900">‡∏ó‡∏∏‡∏ô‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏™‡∏°‡∏±‡∏Ñ‡∏£</h3>
            </div>
        </div>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-5">
            <div class="md:col-span-2">
                <label class="block text-sm font-semibold text-gray-700 mb-1">‡∏ó‡∏∏‡∏ô‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤ <span class="text-red-500">*</span></label>
                <select name="scholarship_id" required class="form-input w-full border border-gray-300 rounded-xl px-4 py-3 text-sm bg-white transition-all">
                    <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡∏∏‡∏ô‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤ --</option>
                    {% for sch in scholarships %}
                    <option value="{{ sch.id }}" {{ 'selected' if prefill.get('scholarship_id') == sch.id else '' }}>{{ sch.name }}</option>
                    {% endfor %}
                </select>
            </div>
        </div>
    </div>

    <!-- ===== 1. ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß ===== -->
    <div class="section-card">
        <div class="section-header">
            <div class="section-num">1</div>
            <div>
                <h3 class="text-base font-bold text-blue-900">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß</h3>
                <p class="text-xs text-gray-400">Personal Information</p>
            </div>
        </div>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
            <div>
                <label class="block text-sm font-semibold text-gray-700 mb-1">‡∏Ñ‡∏≥‡∏ô‡∏≥‡∏´‡∏ô‡πâ‡∏≤ <span class="text-red-500">*</span></label>
                <select name="title" required class="form-input w-full border border-gray-300 rounded-xl px-4 py-3 text-sm bg-white transition-all">
                    <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å --</option>
                    {% for t in titles %}
                    <option value="{{ t }}" {{ 'selected' if prefill.get('title') == t else '' }}>{{ t }}</option>
                    {% endfor %}
                </select>
            </div>
            <div>
                <label class="block text-sm font-semibold text-gray-700 mb-1">‡∏ä‡∏∑‡πà‡∏≠ <span class="text-red-500">*</span></label>
                <input type="text" name="first_name" value="{{ prefill.get('first_name', '') }}" placeholder="‡∏ä‡∏∑‡πà‡∏≠" required class="form-input w-full border border-gray-300 rounded-xl px-4 py-3 text-sm transition-all">
            </div>
            <div>
                <label class="block text-sm font-semibold text-gray-700 mb-1">‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏• <span class="text-red-500">*</span></label>
                <input type="text" name="last_name" value="{{ prefill.get('last_name', '') }}" placeholder="‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•" required class="form-input w-full border border-gray-300 rounded-xl px-4 py-3 text-sm transition-all">
            </div>
            <div>
                <label class="block text-sm font-semibold text-gray-700 mb-1">‡∏ä‡∏∑‡πà‡∏≠ (‡∏†‡∏≤‡∏©‡∏≤‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏©)</label>
                <input type="text" name="first_name_en" value="{{ prefill.get('first_name_en', '') }}" placeholder="First Name" class="form-input w-full border border-gray-300 rounded-xl px-4 py-3 text-sm transition-all">
            </div>
            <div>
                <label class="block text-sm font-semibold text-gray-700 mb-1">‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏• (‡∏†‡∏≤‡∏©‡∏≤‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏©)</label>
                <input type="text" name="last_name_en" value="{{ prefill.get('last_name_en', '') }}" placeholder="Last Name" class="form-input w-full border border-gray-300 rounded-xl px-4 py-3 text-sm transition-all">
            </div>
            <div>
                <label class="block text-sm font-semibold text-gray-700 mb-1">‡πÄ‡∏•‡∏Ç‡∏ö‡∏±‡∏ï‡∏£‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏ä‡∏ô <span class="text-red-500">*</span></label>
                <input type="text" name="national_id" value="{{ prefill.get('national_id', '') }}" placeholder="x-xxxx-xxxxx-xx-x" maxlength="13" required class="form-input w-full border border-gray-300 rounded-xl px-4 py-3 text-sm transition-all">
            </div>
            <div>
                <label class="block text-sm font-semibold text-gray-700 mb-1">‡∏ß‡∏±‡∏ô‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏õ‡∏µ‡πÄ‡∏Å‡∏¥‡∏î <span class="text-red-500">*</span></label>
                <input type="date" name="birth_date" value="{{ prefill.get('birth_date', '') }}" required class="form-input w-full border border-gray-300 rounded-xl px-4 py-3 text-sm transition-all">
            </div>
            <div>
                <label class="block text-sm font-semibold text-gray-700 mb-1">‡πÄ‡∏û‡∏® <span class="text-red-500">*</span></label>
                <select name="gender" required class="form-input w-full border border-gray-300 rounded-xl px-4 py-3 text-sm bg-white transition-all">
                    <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å --</option>
                    {% for g in genders %}
                    <option value="{{ g }}" {{ 'selected' if prefill.get('gender') == g else '' }}>{{ g }}</option>
                    {% endfor %}
                </select>
            </div>
            <div>
                <label class="block text-sm font-semibold text-gray-700 mb-1">‡∏™‡∏±‡∏ç‡∏ä‡∏≤‡∏ï‡∏¥</label>
                <input type="text" name="nationality" value="{{ prefill.get('nationality', '‡πÑ‡∏ó‡∏¢') }}" class="form-input w-full border border-gray-300 rounded-xl px-4 py-3 text-sm transition-all">
            </div>
            <div>
                <label class="block text-sm font-semibold text-gray-700 mb-1">‡∏®‡∏≤‡∏™‡∏ô‡∏≤</label>
                <input type="text" name="religion" value="{{ prefill.get('religion', '') }}" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏û‡∏∏‡∏ó‡∏ò" class="form-input w-full border border-gray-300 rounded-xl px-4 py-3 text-sm transition-all">
            </div>
            <div>
                <label class="block text-sm font-semibold text-gray-700 mb-1">‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå <span class="text-red-500">*</span></label>
                <input type="tel" name="phone" value="{{ prefill.get('phone', '') }}" placeholder="0xx-xxx-xxxx" required class="form-input w-full border border-gray-300 rounded-xl px-4 py-3 text-sm transition-all">
            </div>
            <div>
                <label class="block text-sm font-semibold text-gray-700 mb-1">‡∏≠‡∏µ‡πÄ‡∏°‡∏•</label>
                <input type="email" name="email" value="{{ prefill.get('email', '') }}" placeholder="example@ubu.ac.th" class="form-input w-full border border-gray-300 rounded-xl px-4 py-3 text-sm transition-all">
            </div>
        </div>
    </div>

    <!-- ===== 2. ‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô ===== -->
    <div class="section-card">
        <div class="section-header">
            <div class="section-num">2</div>
            <div>
                <h3 class="text-base font-bold text-blue-900">‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô</h3>
                <p class="text-xs text-gray-400">Current Address</p>
            </div>
        </div>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
            <div class="md:col-span-3">
                <label class="block text-sm font-semibold text-gray-700 mb-1">‡∏ö‡πâ‡∏≤‡∏ô‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà / ‡∏´‡∏°‡∏π‡πà‡∏ó‡∏µ‡πà / ‡∏ñ‡∏ô‡∏ô <span class="text-red-500">*</span></label>
                <input type="text" name="address" value="{{ prefill.get('address', '') }}" placeholder="‡πÄ‡∏ä‡πà‡∏ô 99 ‡∏´‡∏°‡∏π‡πà 5 ‡∏ñ‡∏ô‡∏ô‡πÄ‡∏à‡∏£‡∏¥‡∏ç‡∏£‡∏≤‡∏©‡∏é‡∏£‡πå" required class="form-input w-full border border-gray-300 rounded-xl px-4 py-3 text-sm transition-all">
            </div>
            <div>
                <label class="block text-sm font-semibold text-gray-700 mb-1">‡∏ï‡∏≥‡∏ö‡∏•/‡πÅ‡∏Ç‡∏ß‡∏á <span class="text-red-500">*</span></label>
                <input type="text" name="sub_district" value="{{ prefill.get('sub_district', '') }}" placeholder="‡∏ï‡∏≥‡∏ö‡∏•" required class="form-input w-full border border-gray-300 rounded-xl px-4 py-3 text-sm transition-all">
            </div>
            <div>
                <label class="block text-sm font-semibold text-gray-700 mb-1">‡∏≠‡∏≥‡πÄ‡∏†‡∏≠/‡πÄ‡∏Ç‡∏ï <span class="text-red-500">*</span></label>
                <input type="text" name="district" value="{{ prefill.get('district', '') }}" placeholder="‡∏≠‡∏≥‡πÄ‡∏†‡∏≠" required class="form-input w-full border border-gray-300 rounded-xl px-4 py-3 text-sm transition-all">
            </div>
            <div>
                <label class="block text-sm font-semibold text-gray-700 mb-1">‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î <span class="text-red-500">*</span></label>
                <input type="text" name="province" value="{{ prefill.get('province', '') }}" placeholder="‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î" required class="form-input w-full border border-gray-300 rounded-xl px-4 py-3 text-sm transition-all">
            </div>
            <div>
                <label class="block text-sm font-semibold text-gray-700 mb-1">‡∏£‡∏´‡∏±‡∏™‡πÑ‡∏õ‡∏£‡∏©‡∏ì‡∏µ‡∏¢‡πå</label>
                <input type="text" name="postal_code" value="{{ prefill.get('postal_code', '') }}" placeholder="xxxxx" maxlength="5" class="form-input w-full border border-gray-300 rounded-xl px-4 py-3 text-sm transition-all">
            </div>
        </div>
    </div>

    <!-- ===== 3. ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤ ===== -->
    <div class="section-card">
        <div class="section-header">
            <div class="section-num">3</div>
            <div>
                <h3 class="text-base font-bold text-blue-900">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤</h3>
                <p class="text-xs text-gray-400">Academic Information</p>
            </div>
        </div>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
            <div>
                <label class="block text-sm font-semibold text-gray-700 mb-1">‡∏£‡∏´‡∏±‡∏™‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤ <span class="text-red-500">*</span></label>
                <input type="text" id="student_id" name="student_id" value="{{ prefill.get('student_id', '') }}" placeholder="‡πÄ‡∏ä‡πà‡∏ô 68114540001" maxlength="20" required class="form-input w-full border border-gray-300 rounded-xl px-4 py-3 text-sm transition-all">
            </div>
            <div>
                <label class="block text-sm font-semibold text-gray-700 mb-1">‡∏Ñ‡∏ì‡∏∞ <span class="text-red-500">*</span></label>
                <select id="faculty" name="faculty" required class="form-input w-full border border-gray-300 rounded-xl px-4 py-3 text-sm bg-white transition-all">
                    <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Ñ‡∏ì‡∏∞ --</option>
                    {% for f in faculties %}
                    <option value="{{ f }}" {{ 'selected' if prefill.get('faculty') == f else '' }}>{{ f }}</option>
                    {% endfor %}
                </select>
            </div>
            <div>
                <label class="block text-sm font-semibold text-gray-700 mb-1">‡∏™‡∏≤‡∏Ç‡∏≤‡∏ß‡∏¥‡∏ä‡∏≤ <span class="text-red-500">*</span></label>
                <input type="text" name="major" value="{{ prefill.get('major', '') }}" placeholder="‡∏™‡∏≤‡∏Ç‡∏≤‡∏ß‡∏¥‡∏ä‡∏≤" required class="form-input w-full border border-gray-300 rounded-xl px-4 py-3 text-sm transition-all">
            </div>
            <div>
                <label class="block text-sm font-semibold text-gray-700 mb-1">‡∏ä‡∏±‡πâ‡∏ô‡∏õ‡∏µ‡∏ó‡∏µ‡πà <span class="text-red-500">*</span></label>
                <select name="year_level" required class="form-input w-full border border-gray-300 rounded-xl px-4 py-3 text-sm bg-white transition-all">
                    <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å --</option>
                    {% for y in year_levels %}
                    <option value="{{ y }}" {{ 'selected' if prefill.get('year_level')|string == y|string else '' }}>‡∏õ‡∏µ‡∏ó‡∏µ‡πà {{ y }}</option>
                    {% endfor %}
                </select>
            </div>
            <div>
                <label class="block text-sm font-semibold text-gray-700 mb-1">‡πÄ‡∏Å‡∏£‡∏î‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢‡∏™‡∏∞‡∏™‡∏° (GPA) <span class="text-red-500">*</span></label>
                <input type="number" name="gpa" value="{{ prefill.get('gpa', '') }}" placeholder="‡πÄ‡∏ä‡πà‡∏ô 3.50" step="0.01" min="0.00" max="4.00" required class="form-input w-full border border-gray-300 rounded-xl px-4 py-3 text-sm transition-all">
            </div>
            <div>
                <label class="block text-sm font-semibold text-gray-700 mb-1">‡∏õ‡∏µ‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤</label>
                <input type="text" name="academic_year" value="{{ prefill.get('academic_year', '') }}" placeholder="‡πÄ‡∏ä‡πà‡∏ô 2567" class="form-input w-full border border-gray-300 rounded-xl px-4 py-3 text-sm transition-all">
            </div>
        </div>
    </div>

    <!-- ===== 4. ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡∏õ‡∏Å‡∏Ñ‡∏£‡∏≠‡∏á ===== -->
    <div class="section-card">
        <div class="section-header">
            <div class="section-num">4</div>
            <div>
                <h3 class="text-base font-bold text-blue-900">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡∏õ‡∏Å‡∏Ñ‡∏£‡∏≠‡∏á / ‡∏ö‡∏¥‡∏î‡∏≤-‡∏°‡∏≤‡∏£‡∏î‡∏≤</h3>
                <p class="text-xs text-gray-400">Parent / Guardian Information</p>
            </div>
        </div>

        <!-- ‡∏ö‡∏¥‡∏î‡∏≤ -->
        <p class="text-sm font-bold text-blue-800 mb-3">üë® ‡∏ö‡∏¥‡∏î‡∏≤</p>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-5">
            <div>
                <label class="block text-sm font-semibold text-gray-700 mb-1">‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•‡∏ö‡∏¥‡∏î‡∏≤</label>
                <input type="text" name="father_name" value="{{ prefill.get('father_name', '') }}" placeholder="‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•" class="form-input w-full border border-gray-300 rounded-xl px-4 py-3 text-sm transition-all">
            </div>
            <div>
                <label class="block text-sm font-semibold text-gray-700 mb-1">‡∏≠‡∏≤‡∏ä‡∏µ‡∏û</label>
                <input type="text" name="father_occupation" value="{{ prefill.get('father_occupation', '') }}" placeholder="‡∏≠‡∏≤‡∏ä‡∏µ‡∏û" class="form-input w-full border border-gray-300 rounded-xl px-4 py-3 text-sm transition-all">
            </div>
            <div>
                <label class="block text-sm font-semibold text-gray-700 mb-1">‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡∏ï‡πà‡∏≠‡∏õ‡∏µ (‡∏ö‡∏≤‡∏ó)</label>
                <input type="number" name="father_income" value="{{ prefill.get('father_income', '') }}" placeholder="0" min="0" class="form-input w-full border border-gray-300 rounded-xl px-4 py-3 text-sm transition-all">
            </div>
            <div>
                <label class="block text-sm font-semibold text-gray-700 mb-1">‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå</label>
                <input type="tel" name="father_phone" value="{{ prefill.get('father_phone', '') }}" placeholder="0xx-xxx-xxxx" class="form-input w-full border border-gray-300 rounded-xl px-4 py-3 text-sm transition-all">
            </div>
            <div>
                <label class="block text-sm font-semibold text-gray-700 mb-1">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</label>
                <select name="father_status" class="form-input w-full border border-gray-300 rounded-xl px-4 py-3 text-sm bg-white transition-all">
                    <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å --</option>
                    {% for s in parent_statuses %}
                    <option value="{{ s }}" {{ 'selected' if prefill.get('father_status') == s else '' }}>{{ s }}</option>
                    {% endfor %}
                </select>
            </div>
        </div>

        <!-- ‡∏°‡∏≤‡∏£‡∏î‡∏≤ -->
        <p class="text-sm font-bold text-blue-800 mb-3">üë© ‡∏°‡∏≤‡∏£‡∏î‡∏≤</p>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
            <div>
                <label class="block text-sm font-semibold text-gray-700 mb-1">‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•‡∏°‡∏≤‡∏£‡∏î‡∏≤</label>
                <input type="text" name="mother_name" value="{{ prefill.get('mother_name', '') }}" placeholder="‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•" class="form-input w-full border border-gray-300 rounded-xl px-4 py-3 text-sm transition-all">
            </div>
            <div>
                <label class="block text-sm font-semibold text-gray-700 mb-1">‡∏≠‡∏≤‡∏ä‡∏µ‡∏û</label>
                <input type="text" name="mother_occupation" value="{{ prefill.get('mother_occupation', '') }}" placeholder="‡∏≠‡∏≤‡∏ä‡∏µ‡∏û" class="form-input w-full border border-gray-300 rounded-xl px-4 py-3 text-sm transition-all">
            </div>
            <div>
                <label class="block text-sm font-semibold text-gray-700 mb-1">‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡∏ï‡πà‡∏≠‡∏õ‡∏µ (‡∏ö‡∏≤‡∏ó)</label>
                <input type="number" name="mother_income" value="{{ prefill.get('mother_income', '') }}" placeholder="0" min="0" class="form-input w-full border border-gray-300 rounded-xl px-4 py-3 text-sm transition-all">
            </div>
            <div>
                <label class="block text-sm font-semibold text-gray-700 mb-1">‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå</label>
                <input type="tel" name="mother_phone" value="{{ prefill.get('mother_phone', '') }}" placeholder="0xx-xxx-xxxx" class="form-input w-full border border-gray-300 rounded-xl px-4 py-3 text-sm transition-all">
            </div>
            <div>
                <label class="block text-sm font-semibold text-gray-700 mb-1">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</label>
                <select name="mother_status" class="form-input w-full border border-gray-300 rounded-xl px-4 py-3 text-sm bg-white transition-all">
                    <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å --</option>
                    {% for s in parent_statuses %}
                    <option value="{{ s }}" {{ 'selected' if prefill.get('mother_status') == s else '' }}>{{ s }}</option>
                    {% endfor %}
                </select>
            </div>
        </div>
    </div>

    <!-- ===== 5. ‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡∏Ñ‡∏£‡∏≠‡∏ö‡∏Ñ‡∏£‡∏±‡∏ß ===== -->
    <div class="section-card">
        <div class="section-header">
            <div class="section-num">5</div>
            <div>
                <h3 class="text-base font-bold text-blue-900">‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡∏Ñ‡∏£‡∏≠‡∏ö‡∏Ñ‡∏£‡∏±‡∏ß</h3>
                <p class="text-xs text-gray-400">Family Income</p>
            </div>
        </div>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
            <div>
                <label class="block text-sm font-semibold text-gray-700 mb-1">‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏Ñ‡∏£‡∏≠‡∏ö‡∏Ñ‡∏£‡∏±‡∏ß‡∏ï‡πà‡∏≠‡∏õ‡∏µ (‡∏ö‡∏≤‡∏ó) <span class="text-red-500">*</span></label>
                <input type="number" name="family_income" value="{{ prefill.get('family_income', '') }}" placeholder="0" min="0" required class="form-input w-full border border-gray-300 rounded-xl px-4 py-3 text-sm transition-all">
            </div>
            <div>
                <label class="block text-sm font-semibold text-gray-700 mb-1">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏û‡∏µ‡πà‡∏ô‡πâ‡∏≠‡∏á</label>
                <input type="number" name="siblings" value="{{ prefill.get('siblings', '') }}" placeholder="0" min="0" class="form-input w-full border border-gray-300 rounded-xl px-4 py-3 text-sm transition-all">
<div>
                <label class="block text-sm font-semibold text-gray-700 mb-1">‡πÄ‡∏õ‡πá‡∏ô‡∏ö‡∏∏‡∏ï‡∏£‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà</label>
                <input type="number" name="birth_order" value="{{ prefill.get('birth_order', '') }}" placeholder="‡πÄ‡∏ä‡πà‡∏ô 2" min="1" class="form-input w-full border border-gray-300 rounded-xl px-4 py-3 text-sm transition-all">
            </div>
            <div class="md:col-span-3">
                <label class="block text-sm font-semibold text-gray-700 mb-2">‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏≠‡∏≤‡∏®‡∏±‡∏¢‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô</label>
                <div class="flex flex-wrap gap-4">
                    
                    {% for ht in housing_types %}
                    <label class="flex items-center gap-2 text-sm cursor-pointer">
                        <input type="radio" name="housing_type" value="{{ ht }}" {{ 'checked' if prefill.get('housing_type') == ht else '' }} class="accent-blue-800"> {{ ht }}
                    </label>
                    {% endfor %}
                    </div>
            </div>
            <div class="md:col-span-3">
                <label class="block text-sm font-semibold text-gray-700 mb-1">‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏ / ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°‡∏î‡πâ‡∏≤‡∏ô‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡∏Ñ‡∏£‡∏≠‡∏ö‡∏Ñ‡∏£‡∏±‡∏ß</label>
                <textarea name="income_note" rows="2" placeholder="‡∏£‡∏∞‡∏ö‡∏∏‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏° (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)" class="form-input w-full border border-gray-300 rounded-xl px-4 py-3 text-sm transition-all">{{ prefill.get('income_note', '') }}</textarea>
            </div>
        </div>
    </div>

    <!-- ===== 6. ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏° ===== -->
    <div class="section-card">
        <div class="section-header">
            <div class="section-num">6</div>
            <div>
                <h3 class="text-base font-bold text-blue-900">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°</h3>
                <p class="text-xs text-gray-400">Additional Information</p>
            </div>
        </div>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div class="md:col-span-2">
                <label class="block text-sm font-semibold text-gray-700 mb-2">‡πÄ‡∏Ñ‡∏¢‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏ó‡∏∏‡∏ô‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏°‡∏≤‡∏Å‡πà‡∏≠‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?</label>
                <div class="flex gap-6">
                    <label class="flex items-center gap-2 text-sm cursor-pointer">
                        <input type="radio" name="prev_scholarship" value="yes" {{ 'checked' if prefill.get('prev_scholarship') == 'yes' else '' }} class="accent-blue-800"> ‡πÄ‡∏Ñ‡∏¢
                    </label>
                    <label class="flex items-center gap-2 text-sm cursor-pointer">
                        <input type="radio" name="prev_scholarship" value="no" {{ 'checked' if prefill.get('prev_scholarship') == 'no' else '' }} class="accent-blue-800"> ‡πÑ‡∏°‡πà‡πÄ‡∏Ñ‡∏¢
                    </label>
                </div>
            </div>
            <div class="md:col-span-2">
                <label class="block text-sm font-semibold text-gray-700 mb-1">‡∏£‡∏∞‡∏ö‡∏∏‡∏ä‡∏∑‡πà‡∏≠‡∏ó‡∏∏‡∏ô‡πÅ‡∏•‡∏∞‡∏õ‡∏µ‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö (‡∏ñ‡πâ‡∏≤‡πÄ‡∏Ñ‡∏¢)</label>
                <input type="text" name="prev_scholarship_detail" value="{{ prefill.get('prev_scholarship_detail', '') }}" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏ó‡∏∏‡∏ô ‡∏Å‡∏™‡∏®. ‡∏õ‡∏µ 2565" class="form-input w-full border border-gray-300 rounded-xl px-4 py-3 text-sm transition-all">
            </div>
            <div class="md:col-span-2">
                <label class="block text-sm font-semibold text-gray-700 mb-1">‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏ó‡∏µ‡πà‡πÄ‡∏Ñ‡∏¢‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏° / ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏û‡∏¥‡πÄ‡∏®‡∏©</label>
                <textarea name="activities" rows="3" placeholder="‡∏£‡∏∞‡∏ö‡∏∏‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏° ‡∏´‡∏£‡∏∑‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏û‡∏¥‡πÄ‡∏®‡∏© (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)" class="form-input w-full border border-gray-300 rounded-xl px-4 py-3 text-sm transition-all">{{ prefill.get('activities', '') }}</textarea>
            </div>
            <div class="md:col-span-2">
                <label class="block text-sm font-semibold text-gray-700 mb-1">‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏ó‡∏∏‡∏ô <span class="text-red-500">*</span></label>
                <textarea name="reason" rows="3" placeholder="‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏ó‡∏∏‡∏ô" required class="form-input w-full border border-gray-300 rounded-xl px-4 py-3 text-sm transition-all">{{ prefill.get('reason', '') }}</textarea>
            </div>
        </div>
    </div>

    <!-- ===== 7. ‡πÅ‡∏ô‡∏ö‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£ ===== -->
    <div class="section-card">
        <div class="section-header">
            <div class="section-num">7</div>
            <div>
                <h3 class="text-base font-bold text-blue-900">‡πÅ‡∏ô‡∏ö‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏™‡∏°‡∏±‡∏Ñ‡∏£</h3>
                <p class="text-xs text-gray-400">‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö PDF, PNG, JPG ‚Äî ‡∏Ç‡∏ô‡∏≤‡∏î‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô 5 MB ‡∏ï‡πà‡∏≠‡πÑ‡∏ü‡∏•‡πå</p>
            </div>
        </div>

        <input type="hidden" name="upload_student_id" id="upload-student-id" value="{{ prefill.get('student_id', '') }}">

        <div class="bg-blue-50 border border-blue-100 rounded-xl p-4 mb-5">
            <p class="text-sm font-semibold text-blue-800 mb-2">üìã ‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏ô‡∏ö</p>
            <ul class="list-disc list-inside text-sm text-blue-700 space-y-1">
                <li>‡∏™‡∏≥‡πÄ‡∏ô‡∏≤‡∏ö‡∏±‡∏ï‡∏£‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏ä‡∏ô (1 ‡∏â‡∏ö‡∏±‡∏ö)</li>
                <li>‡∏™‡∏≥‡πÄ‡∏ô‡∏≤‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏ö‡πâ‡∏≤‡∏ô (1 ‡∏â‡∏ö‡∏±‡∏ö)</li>
                <li>‡πÉ‡∏ö‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô (Transcript) ‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î</li>
                <li>‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡∏£‡∏±‡∏ö‡∏£‡∏≠‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏£‡∏∞‡∏û‡∏§‡∏ï‡∏¥ (‡∏à‡∏≤‡∏Å‡∏≠‡∏≤‡∏à‡∏≤‡∏£‡∏¢‡πå‡∏ó‡∏µ‡πà‡∏õ‡∏£‡∏∂‡∏Å‡∏©‡∏≤)</li>
                <li>‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏≠‡∏∑‡πà‡∏ô‡πÜ ‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)</li>
            </ul>
        </div>

        <div id="drop-zone" class="rounded-2xl p-10 text-center cursor-pointer mb-4 transition-all" onclick="document.getElementById('file-input').click()">
            <div class="text-5xl mb-3">üìÇ</div>
            <p class="font-semibold text-gray-600 text-sm">‡∏Ñ‡∏•‡∏¥‡∏Å‡∏´‡∏£‡∏∑‡∏≠‡∏•‡∏≤‡∏Å‡πÑ‡∏ü‡∏•‡πå‡∏°‡∏≤‡∏ß‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà</p>
            <p class="text-xs text-gray-400 mt-1">PDF, PNG, JPG, JPEG ‚Äî ‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î 5 MB ‡∏ï‡πà‡∏≠‡πÑ‡∏ü‡∏•‡πå</p>
        </div>

        <input type="file" id="file-input" name="documents" accept=".pdf,.png,.jpg,.jpeg" multiple class="hidden">
        <ul id="file-list" class="space-y-2 mb-5"></ul>

        <!-- Submit Buttons -->
        <div class="flex justify-between items-center pt-4 border-t border-gray-100">
            <a href="/student/dashboard" class="text-gray-500 hover:text-blue-900 text-sm font-medium transition-all">‚Üê ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</a>
            <div class="flex gap-3">
                <button type="submit" name="action" value="save_draft" class="bg-gray-100 text-gray-700 font-semibold px-6 py-3 rounded-xl hover:bg-gray-200 transition-all text-sm flex items-center gap-2">
                    üíæ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏£‡πà‡∏≤‡∏á
                </button>
                <button type="submit" name="action" value="submit" class="bg-blue-900 text-white font-bold px-8 py-3 rounded-xl hover:bg-yellow-400 hover:text-blue-900 transition-all shadow-md hover:shadow-lg flex items-center gap-2">
                    üì® ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏°‡∏±‡∏Ñ‡∏£
                </button>
            </div>
        </div>
    </div>

    </form>
</main>

<!-- FOOTER -->
<footer class="bg-blue-950 text-blue-200 py-8 px-8 w-full text-sm mt-auto">
    <div class="flex justify-between items-start">
        <div>
            <strong class="text-yellow-400 text-base">‡∏™‡∏≥‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤</strong><br>
            ‡∏°‡∏´‡∏≤‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏•‡∏±‡∏¢‡∏≠‡∏∏‡∏ö‡∏•‡∏£‡∏≤‡∏ä‡∏ò‡∏≤‡∏ô‡∏µ<br>
            85 ‡∏ñ‡∏ô‡∏ô‡∏™‡∏ñ‡∏•‡∏°‡∏≤‡∏£‡πå‡∏Ñ ‡∏ï‡∏≥‡∏ö‡∏•‡πÄ‡∏°‡∏∑‡∏≠‡∏á‡∏®‡∏£‡∏µ‡πÑ‡∏Ñ ‡∏≠‡∏≥‡πÄ‡∏†‡∏≠‡∏ß‡∏≤‡∏£‡∏¥‡∏ô‡∏ä‡∏≥‡∏£‡∏≤‡∏ö ‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î‡∏≠‡∏∏‡∏ö‡∏•‡∏£‡∏≤‡∏ä‡∏ò‡∏≤‡∏ô‡∏µ 34190
        </div>
        <div class="text-right">
            <strong class="text-yellow-400 text-base">‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡πÄ‡∏£‡∏≤</strong><br>
            Email: ubustudent.d@ubu.ac.th<br>
            ‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå: 045-353000 ‡∏ï‡πà‡∏≠ 1210
        </div>
    </div>
</footer>

<script>
    /* Sync student_id to upload hidden field */
    document.getElementById('student_id').addEventListener('input', function () {
        document.getElementById('upload-student-id').value = this.value;
    });

    /* Drop Zone */
    const dropZone  = document.getElementById('drop-zone');
    const fileInput = document.getElementById('file-input');
    const fileList  = document.getElementById('file-list');

    function updateFileList(files) {
        fileList.innerHTML = '';
        Array.from(files).forEach(file => {
            const sizeMB = (file.size / (1024*1024)).toFixed(2);
            const isOk   = file.size <= 5*1024*1024;
            const ext    = file.name.split('.').pop().toLowerCase();
            const typeOk = ['pdf','png','jpg','jpeg'].includes(ext);
            const icon   = file.type.startsWith('image/') ? 'üñºÔ∏è' : 'üìÑ';
            const li = document.createElement('li');
            li.className = `flex items-center justify-between px-4 py-3 rounded-xl text-sm border ${isOk && typeOk ? 'bg-green-50 border-green-200 text-green-800' : 'bg-red-50 border-red-200 text-red-700'}`;
            li.innerHTML = `
                <span class="flex items-center gap-2 flex-1 truncate"><span>${icon}</span><span class="font-medium truncate">${file.name}</span></span>
                <span class="ml-4 shrink-0 font-semibold">${sizeMB} MB</span>
                ${!typeOk ? '<span class="ml-2 text-xs text-red-600">‡πÑ‡∏°‡πà‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏ä‡∏ô‡∏¥‡∏î‡πÑ‡∏ü‡∏•‡πå‡∏ô‡∏µ‡πâ</span>' : ''}
                ${typeOk && !isOk ? '<span class="ml-2 text-xs text-red-600">‡πÑ‡∏ü‡∏•‡πå‡πÉ‡∏´‡∏ç‡πà‡πÄ‡∏Å‡∏¥‡∏ô 5 MB</span>' : ''}
            `;
            fileList.appendChild(li);
        });
    }

    fileInput.addEventListener('change', () => updateFileList(fileInput.files));
    dropZone.addEventListener('dragover',  e  => { e.preventDefault(); dropZone.classList.add('drag-over'); });
    dropZone.addEventListener('dragleave', () => dropZone.classList.remove('drag-over'));
    dropZone.addEventListener('drop', e => {
        e.preventDefault();
        dropZone.classList.remove('drag-over');
        fileInput.files = e.dataTransfer.files;
        updateFileList(e.dataTransfer.files);
    });
</script>
</body>
</html>
