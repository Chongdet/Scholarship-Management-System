{% extends "base.html" %}

{% block content %}
<div class="min-h-screen bg-sky-50 pb-12 pt-4">
    <div class="max-w-6xl mx-auto px-4">
        
        <div class="flex items-center gap-2 mb-6 text-blue-900">
            <a href="/student/dashboard" class="hover:text-yellow-500 font-bold flex items-center transition-colors">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18" /></svg>
                ‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å
            </a>
            <span class="text-gray-400">></span>
            <span class="text-gray-600 font-medium">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß</span>
        </div>

        <form action="" method="POST" class="space-y-6">
            
            <div class="bg-white p-8 rounded-2xl shadow-md border-t-4 border-yellow-400">
                <h2 class="text-2xl font-bold mb-6 text-blue-900 border-b border-blue-100 pb-3">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß‡∏Ç‡∏≠‡∏á‡∏ú‡∏π‡πâ‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏Ç‡∏≠‡∏£‡∏±‡∏ö‡∏ó‡∏∏‡∏ô‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-y-4 gap-x-8 text-gray-700">
                    <div class="flex items-center gap-4">
                        <label class="font-bold text-blue-900 w-24">‡∏ä‡∏∑‡πà‡∏≠ - ‡∏™‡∏Å‡∏∏‡∏• :</label>
                        <input type="text" name="name" value="{{ student.name | default('') }}" class="flex-1 px-3 py-2 rounded-md bg-gray-100 text-gray-500 cursor-not-allowed border-gray-200" readonly>
                    </div>
                    <div class="flex items-center gap-4">
                        <label class="font-bold text-blue-900 w-24">‡∏£‡∏´‡∏±‡∏™‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤ :</label>
                        <input type="text" value="{{ student.student_id | default('') }}" class="flex-1 px-3 py-2 rounded-md bg-gray-100 text-gray-500 cursor-not-allowed border-gray-200" readonly>
                    </div>
                    <div class="flex items-center gap-4">
                        <label class="font-bold text-blue-900 w-24">‡∏™‡∏±‡∏á‡∏Å‡∏±‡∏î :</label>
                        <input type="text" name="faculty" value="{{ student.faculty | default('') }}" class="flex-1 px-3 py-2 rounded-md bg-gray-100 text-gray-500 cursor-not-allowed border-gray-200" readonly>
                    </div>
                    <div class="flex items-center gap-4">
                        <label class="font-bold text-blue-900 w-24">‡∏≠‡∏µ‡πÄ‡∏°‡∏• :</label>
                        <input type="email" name="email" value="{{ student.email | default('') }}" class="flex-1 px-3 py-2 rounded-md bg-gray-100 text-gray-500 cursor-not-allowed border-gray-200" readonly>
                    </div>
                </div>
            </div>

            <div class="bg-white p-6 rounded-2xl shadow-md border border-gray-100">
                <h3 class="text-lg font-bold mb-4 text-blue-900 border-b border-blue-50 pb-2">‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ö‡∏ó‡∏∏‡∏ô</h3>
                <div class="overflow-x-auto rounded-lg border border-gray-200">
                    <table class="w-full text-sm text-left text-gray-600">
                        <thead class="text-xs text-blue-900 uppercase bg-blue-50 border-b border-blue-100">
                            <tr>
                                <th class="px-4 py-3">‡∏•‡∏≥‡∏î‡∏±‡∏ö</th>
                                <th class="px-4 py-3">‡∏ä‡∏∑‡πà‡∏≠‡∏ó‡∏∏‡∏ô‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤</th>
                                <th class="px-4 py-3">‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó</th>
                                <th class="px-4 py-3">‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏°‡∏≠‡∏ö</th>
                                <th class="px-4 py-3">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà</th>
                                <th class="px-4 py-3">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="border-b hover:bg-gray-50">
                                <td colspan="6" class="px-4 py-8 text-center text-gray-400">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ö‡∏ó‡∏∏‡∏ô</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="mt-4 flex justify-end gap-2">
                    <button type="button" class="bg-gray-200 hover:bg-gray-300 text-gray-700 px-4 py-2 rounded-lg text-sm font-medium transition-colors">< ‡∏Å‡πà‡∏≠‡∏ô‡∏´‡∏ô‡πâ‡∏≤</button>
                    <button type="button" class="bg-blue-100 hover:bg-blue-200 text-blue-800 px-4 py-2 rounded-lg text-sm font-bold transition-colors">‡∏ñ‡∏±‡∏î‡πÑ‡∏õ ></button>
                </div>
            </div>

            <div class="bg-white p-6 rounded-2xl shadow-md border border-gray-100">
                <h3 class="text-lg font-bold mb-4 text-blue-900 border-b border-blue-50 pb-2">1. ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">‡πÄ‡∏•‡∏Ç‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ï‡∏±‡∏ß‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏ä‡∏ô</label>
                        <input type="text" name="citizen_id" value="{{ student.citizen_id | default('') }}" class="w-full px-3 py-2 rounded-md bg-gray-100 text-gray-500 cursor-not-allowed border-gray-200" readonly>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠</label>
                        <input type="text" name="mobile" value="{{ student.mobile | default('') }}" class="w-full px-3 py-2 rounded-md border-gray-300 focus:ring-blue-500 focus:border-blue-500 bg-sky-50/50">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Facebook</label>
                        <input type="text" name="facebook" value="{{ student.facebook | default('') }}" class="w-full px-3 py-2 rounded-md border-gray-300 focus:ring-blue-500 focus:border-blue-500 bg-sky-50/50">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Line ID</label>
                        <input type="text" name="line_id" value="{{ student.line_id | default('') }}" class="w-full px-3 py-2 rounded-md border-gray-300 focus:ring-blue-500 focus:border-blue-500 bg-sky-50/50">
                    </div>
                </div>
                <div class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏ï‡∏≤‡∏°‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏ö‡πâ‡∏≤‡∏ô</label>
                        <textarea name="address_domicile" rows="2" class="w-full px-3 py-2 rounded-md bg-gray-100 text-gray-500 cursor-not-allowed border-gray-200" readonly>{{ student.address_domicile | default('') }}</textarea>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô (‡∏´‡∏≠‡∏û‡∏±‡∏Å/‡∏ö‡πâ‡∏≤‡∏ô‡πÄ‡∏ä‡πà‡∏≤)</label>
                        <textarea name="address_current" rows="2" class="w-full px-3 py-2 rounded-md border-gray-300 focus:ring-blue-500 focus:border-blue-500 bg-sky-50/50">{{ student.address_current | default('') }}</textarea>
                    </div>
                </div>
            </div>

            <div class="bg-white p-6 rounded-2xl shadow-md border border-gray-100">
                <h3 class="text-lg font-bold mb-4 text-blue-900 border-b border-blue-50 pb-2">2. ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤</h3>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">‡∏ä‡∏±‡πâ‡∏ô‡∏õ‡∏µ‡∏ó‡∏µ‡πà</label>
                        <input type="number" name="year" value="{{ student.year | default('') }}" class="w-full px-3 py-2 rounded-md bg-gray-100 text-gray-500 cursor-not-allowed border-gray-200" readonly>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">‡πÄ‡∏Å‡∏£‡∏î‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢‡∏™‡∏∞‡∏™‡∏° (GPAX)</label>
                        <input type="number" step="0.01" name="gpax" value="{{ student.gpax | default('') }}" class="w-full px-3 py-2 rounded-md bg-gray-100 text-gray-500 cursor-not-allowed border-gray-200" readonly>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">‡∏≠‡∏≤‡∏à‡∏≤‡∏£‡∏¢‡πå‡∏ó‡∏µ‡πà‡∏õ‡∏£‡∏∂‡∏Å‡∏©‡∏≤</label>
                        <input type="text" name="advisor_name" value="{{ student.advisor_name | default('') }}" class="w-full px-3 py-2 rounded-md bg-gray-100 text-gray-500 cursor-not-allowed border-gray-200" readonly>
                    </div>
                </div>
                <div class="mt-4 p-4 bg-gray-100 rounded-lg border border-gray-200">
                    <label class="block text-sm font-bold text-gray-500 mb-2">‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏∞‡∏ó‡∏≥‡∏ú‡∏¥‡∏î‡∏ó‡∏≤‡∏á‡∏ß‡∏¥‡∏ô‡∏±‡∏¢‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤ (‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å‡∏™‡∏≥‡∏ô‡∏±‡∏Å‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô)</label>
                    <div class="flex gap-6">
                        <label class="flex items-center gap-2 cursor-not-allowed text-gray-500"><input type="radio" name="disciplinary_status" value="‡πÑ‡∏°‡πà‡∏°‡∏µ" {% if student.disciplinary_status == '‡πÑ‡∏°‡πà‡∏°‡∏µ' or not student.disciplinary_status %}checked{% endif %} class="form-radio text-gray-400" disabled> ‡πÑ‡∏°‡πà‡∏°‡∏µ</label>
                        <label class="flex items-center gap-2 cursor-not-allowed text-gray-500"><input type="radio" name="disciplinary_status" value="‡∏°‡∏µ" {% if student.disciplinary_status == '‡∏°‡∏µ' %}checked{% endif %} class="form-radio text-gray-400" disabled> ‡∏°‡∏µ</label>
                    </div>
                </div>
            </div>

            <div class="bg-white p-6 rounded-2xl shadow-md border border-gray-100">
                <h3 class="text-lg font-bold mb-4 text-blue-900 border-b border-blue-50 pb-2">3. ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏Ç‡∏≠‡∏ó‡∏∏‡∏ô‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤ / ‡∏Å‡∏¢‡∏®.</h3>
                <div class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏Å‡∏π‡πâ‡∏¢‡∏∑‡∏°‡πÄ‡∏á‡∏¥‡∏ô‡∏Å‡∏≠‡∏á‡∏ó‡∏∏‡∏ô ‡∏Å‡∏¢‡∏®. ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?</label>
                        <div class="flex gap-6">
                            <label class="flex items-center gap-2 cursor-pointer"><input type="radio" name="loan_student_fund" value="TRUE" {% if student.loan_student_fund %}checked{% endif %} class="form-radio text-blue-600 focus:ring-blue-500"> ‡∏Å‡∏π‡πâ‡∏¢‡∏∑‡∏°</label>
                            <label class="flex items-center gap-2 cursor-pointer"><input type="radio" name="loan_student_fund" value="FALSE" {% if not student.loan_student_fund %}checked{% endif %} class="form-radio text-blue-600 focus:ring-blue-500"> ‡πÑ‡∏°‡πà‡∏Å‡∏π‡πâ‡∏¢‡∏∑‡∏°</label>
                        </div>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">‡∏•‡∏±‡∏Å‡∏©‡∏ì‡∏∞‡∏Å‡∏≤‡∏£‡∏Å‡∏π‡πâ‡∏¢‡∏∑‡∏°</label>
                        <div class="flex gap-6">
                            <label class="flex items-center gap-2 cursor-pointer"><input type="radio" name="loan_type" value="‡∏Ñ‡πà‡∏≤‡πÄ‡∏•‡πà‡∏≤‡πÄ‡∏£‡∏µ‡∏¢‡∏ô" {% if student.loan_type == '‡∏Ñ‡πà‡∏≤‡πÄ‡∏•‡πà‡∏≤‡πÄ‡∏£‡∏µ‡∏¢‡∏ô' %}checked{% endif %} class="form-radio text-blue-600 focus:ring-blue-500"> ‡∏Å‡∏π‡πâ‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏Ñ‡πà‡∏≤‡πÄ‡∏•‡πà‡∏≤‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</label>
                            <label class="flex items-center gap-2 cursor-pointer"><input type="radio" name="loan_type" value="‡∏ó‡∏±‡πâ‡∏á‡∏™‡∏≠‡∏á‡∏≠‡∏¢‡πà‡∏≤‡∏á" {% if student.loan_type == '‡∏ó‡∏±‡πâ‡∏á‡∏™‡∏≠‡∏á‡∏≠‡∏¢‡πà‡∏≤‡∏á' %}checked{% endif %} class="form-radio text-blue-600 focus:ring-blue-500"> ‡∏Å‡∏π‡πâ‡∏ó‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÄ‡∏•‡πà‡∏≤‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡πÅ‡∏•‡∏∞‡∏Ñ‡πà‡∏≤‡∏Ñ‡∏£‡∏≠‡∏á‡∏ä‡∏µ‡∏û</label>
                        </div>
                    </div>
                </div>
            </div>

           <div class="bg-white p-6 rounded-2xl shadow-md border border-gray-100">
    <h3 class="text-lg font-bold mb-4 text-blue-900 border-b border-blue-50 pb-2">
        4. ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ñ‡∏£‡∏≠‡∏ö‡∏Ñ‡∏£‡∏±‡∏ß‡πÅ‡∏•‡∏∞‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ
    </h3>

    <!-- ================= ‡∏ö‡∏¥‡∏î‡∏≤ / ‡∏°‡∏≤‡∏£‡∏î‡∏≤ ================= -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-6">

        <!-- ‡∏ö‡∏¥‡∏î‡∏≤ -->
        <div class="space-y-3 p-4 bg-sky-50/50 rounded-xl border border-gray-100">
            <h4 class="font-bold text-blue-800 border-b border-blue-100 pb-2">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ö‡∏¥‡∏î‡∏≤</h4>

            <input type="text" name="father_name"
                value="{{ student.father_name | default('') }}"
                class="w-full px-3 py-2 rounded-md bg-gray-100 text-gray-500 border-gray-200"
                readonly>

            <input type="text" name="father_job"
                value="{{ student.father_job | default('') }}"
                placeholder="‡∏≠‡∏≤‡∏ä‡∏µ‡∏û"
                class="editable-input w-full px-3 py-2 rounded-md border-gray-300 bg-white">

            <input type="number" name="father_income"
                value="{{ student.father_income | default('0') }}"
                placeholder="‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢ / ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô"
                class="editable-input w-full px-3 py-2 rounded-md border-gray-300 bg-white">

            <input type="number" name="inc_father"
                value="{{ student.inc_father | default('0') }}"
                placeholder="‡πÄ‡∏á‡∏¥‡∏ô‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á‡πÉ‡∏´‡πâ‡∏ú‡∏π‡πâ‡∏™‡∏°‡∏±‡∏Ñ‡∏£"
                class="editable-input w-full px-3 py-2 rounded-md border-gray-300 bg-white">

            <input type="text" name="father_health"
                value="{{ student.father_health | default('') }}"
                placeholder="‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û"
                class="editable-input w-full px-3 py-2 rounded-md border-gray-300 bg-white">
        </div>

        <!-- ‡∏°‡∏≤‡∏£‡∏î‡∏≤ -->
        <div class="space-y-3 p-4 bg-sky-50/50 rounded-xl border border-gray-100">
            <h4 class="font-bold text-blue-800 border-b border-blue-100 pb-2">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏°‡∏≤‡∏£‡∏î‡∏≤</h4>

            <input type="text" name="mother_name"
                value="{{ student.mother_name | default('') }}"
                class="w-full px-3 py-2 rounded-md bg-gray-100 text-gray-500 border-gray-200"
                readonly>

            <input type="text" name="mother_job"
                value="{{ student.mother_job | default('') }}"
                placeholder="‡∏≠‡∏≤‡∏ä‡∏µ‡∏û"
                class="editable-input w-full px-3 py-2 rounded-md border-gray-300 bg-white">

            <input type="number" name="mother_income"
                value="{{ student.mother_income | default('0') }}"
                placeholder="‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢ / ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô"
                class="editable-input w-full px-3 py-2 rounded-md border-gray-300 bg-white">

            <input type="number" name="inc_mother"
                value="{{ student.inc_mother | default('0') }}"
                placeholder="‡πÄ‡∏á‡∏¥‡∏ô‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á‡πÉ‡∏´‡πâ‡∏ú‡∏π‡πâ‡∏™‡∏°‡∏±‡∏Ñ‡∏£"
                class="editable-input w-full px-3 py-2 rounded-md border-gray-300 bg-white">

            <input type="text" name="mother_health"
                value="{{ student.mother_health | default('') }}"
                placeholder="‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û"
                class="editable-input w-full px-3 py-2 rounded-md border-gray-300 bg-white">
        </div>
        <!-- ================= ‡∏™‡∏ñ‡∏≤‡∏ô‡∏†‡∏≤‡∏û‡∏™‡∏°‡∏£‡∏™ ================= -->
    <div class="mt-10 border-t pt-6">
        <h4 class="font-semibold text-gray-800 mb-4">
            ‡∏™‡∏ñ‡∏≤‡∏ô‡∏†‡∏≤‡∏û‡∏™‡∏°‡∏£‡∏™‡∏ö‡∏¥‡∏î‡∏≤-‡∏°‡∏≤‡∏£‡∏î‡∏≤
        </h4>

        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
            {% set ps = student.parent_status %}
            {% for status in ['‡∏≠‡∏¢‡∏π‡πà‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏±‡∏ô','‡πÅ‡∏¢‡∏Å‡∏Å‡∏±‡∏ô‡∏≠‡∏¢‡∏π‡πà','‡∏´‡∏¢‡πà‡∏≤‡∏£‡πâ‡∏≤‡∏á','‡∏ö‡∏¥‡∏î‡∏≤‡πÄ‡∏™‡∏µ‡∏¢‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï','‡∏°‡∏≤‡∏£‡∏î‡∏≤‡πÄ‡∏™‡∏µ‡∏¢‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï','‡∏ó‡∏±‡πâ‡∏á‡∏™‡∏≠‡∏á‡πÄ‡∏™‡∏µ‡∏¢‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï'] %}
            <label class="flex items-center gap-2">
                <input type="radio" name="parent_status"
                       value="{{ status }}"
                       {% if ps == status %}checked{% endif %}
                       class="editable-input" disabled>
                {{ status }}
            </label>
            {% endfor %}
        </div>
    </div>
  <!-- ================= ‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏≠‡∏≤‡∏®‡∏±‡∏¢ ================= -->
    <div class="mt-10 border-t pt-6">
        <h4 class="font-semibold mb-4">‡∏•‡∏±‡∏Å‡∏©‡∏ì‡∏∞‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏≠‡∏≤‡∏®‡∏±‡∏¢</h4>

        {% set ht = student.housing_type %}
        <div class="space-y-4">

            <label class="flex items-center gap-2">
                <input type="radio" name="housing_type" value="own"
                       {% if ht == 'own' %}checked{% endif %}
                       onclick="toggleHousing()"
                       class="editable-input" disabled>
                ‡πÄ‡∏õ‡πá‡∏ô‡∏Ç‡∏≠‡∏á‡∏ï‡∏ô‡πÄ‡∏≠‡∏á
            </label>

            <div>
                <label class="flex items-center gap-2">
                    <input type="radio" name="housing_type" value="rent"
                           {% if ht == 'rent' %}checked{% endif %}
                           onclick="toggleHousing()"
                           class="editable-input" disabled>
                    ‡∏ö‡πâ‡∏≤‡∏ô‡πÄ‡∏ä‡πà‡∏≤
                </label>

                <input type="number" name="rent_amount"
                       id="rentInput"
                       value="{{ student.rent_amount | default('') }}"
                       placeholder="‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏Ñ‡πà‡∏≤‡πÄ‡∏ä‡πà‡∏≤‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏•‡∏∞ (‡∏ö‡∏≤‡∏ó)"
                       class="editable-input mt-2 ml-6 w-full md:w-1/2 px-4 py-2 rounded-xl border bg-gray-100"
                       readonly>
            </div>

            <div>
                <label class="flex items-center gap-2">
                    <input type="radio" name="housing_type" value="other"
                           {% if ht == 'other' %}checked{% endif %}
                           onclick="toggleHousing()"
                           class="editable-input" disabled>
                    ‡∏≠‡∏≤‡∏®‡∏±‡∏¢‡∏ú‡∏π‡πâ‡∏≠‡∏∑‡πà‡∏ô
                </label>

                <input type="text" name="housing_other"
                       id="otherHousingInput"
                       value="{{ student.housing_other | default('') }}"
                       placeholder="‡∏£‡∏∞‡∏ö‡∏∏"
                       class="editable-input mt-2 ml-6 w-full md:w-1/2 px-4 py-2 rounded-xl border bg-gray-100"
                       readonly>
            </div>
        </div>
    </div>

</div>
    <div class="space-y-4 mt-8">
    <h4 class="font-semibold text-gray-800">
        ‡∏°‡∏µ‡∏ó‡∏µ‡πà‡∏î‡∏¥‡∏ô‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡πÄ‡∏Å‡∏©‡∏ï‡∏£
    </h4>   

    <div class="space-y-4">

        <!-- ‡πÑ‡∏°‡πà‡∏°‡∏µ -->
        <label class="flex items-center gap-2">
            <input type="radio" name="agri_type" value="none" onclick="toggleAgri()">
            ‡πÑ‡∏°‡πà‡∏°‡∏µ
        </label>

        <!-- ‡πÄ‡∏õ‡πá‡∏ô‡∏Ç‡∏≠‡∏á‡∏ï‡∏ô‡πÄ‡∏≠‡∏á -->
        <div>
            <label class="flex items-center gap-2">
                <input type="radio" name="agri_type" value="own" onclick="toggleAgri()">
                ‡πÄ‡∏õ‡πá‡∏ô‡∏Ç‡∏≠‡∏á‡∏ï‡∏ô‡πÄ‡∏≠‡∏á
            </label>

            <input type="number" id="agriOwnInput"
                placeholder="‡∏à‡∏≥‡∏ô‡∏ß‡∏ô (‡πÑ‡∏£‡πà)"
                class="mt-2 ml-6 w-full md:w-1/2 px-4 py-2 rounded-xl bg-gray-100 border"
                style="display:none;">
        </div>

        <!-- ‡πÄ‡∏ä‡πà‡∏≤‡∏ú‡∏π‡πâ‡∏≠‡∏∑‡πà‡∏ô -->
        <div>
            <label class="flex items-center gap-2">
                <input type="radio" name="agri_type" value="rent" onclick="toggleAgri()">
                ‡πÄ‡∏ä‡πà‡∏≤‡∏ú‡∏π‡πâ‡∏≠‡∏∑‡πà‡∏ô
            </label>

            <div id="agriRentBox" class="mt-2 ml-6 flex gap-4" style="display:none;">
                <input type="number"
                    placeholder="‡∏à‡∏≥‡∏ô‡∏ß‡∏ô (‡πÑ‡∏£‡πà)"
                    class="px-4 py-2 rounded-xl bg-gray-100 border w-1/2">
                <input type="number"
                    placeholder="‡∏Ñ‡πà‡∏≤‡πÄ‡∏ä‡πà‡∏≤ (‡∏ö‡∏≤‡∏ó/‡πÄ‡∏î‡∏∑‡∏≠‡∏ô)"
                    class="px-4 py-2 rounded-xl bg-gray-100 border w-1/2">
            </div>
        </div>

        <!-- ‡∏≠‡∏≤‡∏®‡∏±‡∏¢‡∏ú‡∏π‡πâ‡∏≠‡∏∑‡πà‡∏ô -->
        <div>
            <label class="flex items-center gap-2">
                <input type="radio" name="agri_type" value="other" onclick="toggleAgri()">
                ‡∏≠‡∏≤‡∏®‡∏±‡∏¢‡∏ú‡∏π‡πâ‡∏≠‡∏∑‡πà‡∏ô
            </label>

            <input type="text" id="agriOtherInput"
                placeholder="‡∏£‡∏∞‡∏ö‡∏∏"
                class="mt-2 ml-6 w-full md:w-1/2 px-4 py-2 rounded-xl bg-gray-100 border"
                style="display:none;">
        </div>

    </div>
</div>

    <!-- ================= ‡∏ú‡∏π‡πâ‡∏≠‡∏∏‡∏õ‡∏Å‡∏≤‡∏£‡∏∞ ================= -->
    <div class="border-t border-gray-100 pt-6 mt-6">
        <h4 class="font-bold text-blue-800 mb-3">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡∏≠‡∏∏‡∏õ‡∏Å‡∏≤‡∏£‡∏∞</h4>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <input type="text" name="guardian_name"
                value="{{ student.guardian_name | default('') }}"
                placeholder="‡∏ä‡∏∑‡πà‡∏≠-‡∏™‡∏Å‡∏∏‡∏•"
                class="editable-input w-full px-3 py-2 rounded-md border-gray-300 bg-white">

            <input type="text" name="guardian_relation"
                value="{{ student.guardian_relation | default('') }}"
                placeholder="‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå"
                class="editable-input w-full px-3 py-2 rounded-md border-gray-300 bg-white">

            <input type="text" name="guardian_job"
                value="{{ student.guardian_job | default('') }}"
                placeholder="‡∏≠‡∏≤‡∏ä‡∏µ‡∏û"
                class="editable-input w-full px-3 py-2 rounded-md border-gray-300 bg-white">

            <input type="number" name="guardian_income"
                value="{{ student.guardian_income | default('0') }}"
                placeholder="‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ / ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô"
                class="editable-input w-full px-3 py-2 rounded-md border-gray-300 bg-white">
        </div>
    </div>

    <!-- ================= ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏û‡∏µ‡πà‡∏ô‡πâ‡∏≠‡∏á (‡∏≠‡∏¢‡∏π‡πà‡∏•‡πà‡∏≤‡∏á‡∏™‡∏∏‡∏î‡∏Ç‡∏≠‡∏á Section 4) ================= -->
    <h4 class="text-md font-bold text-blue-900 mb-2 mt-8 border-t border-gray-100 pt-6">
        ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏û‡∏µ‡πà‡∏ô‡πâ‡∏≠‡∏á‡∏£‡πà‡∏ß‡∏°‡∏ö‡∏¥‡∏î‡∏≤‡∏°‡∏≤‡∏£‡∏î‡∏≤‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô (‡∏£‡∏ß‡∏°‡∏ï‡∏±‡∏ß‡∏ú‡∏π‡πâ‡∏™‡∏°‡∏±‡∏Ñ‡∏£)
    </h4>

    <div class="overflow-x-auto rounded-lg border border-gray-200">
        <table class="w-full text-sm text-left text-gray-600">
            <thead class="text-xs text-blue-900 bg-blue-50 border-b border-blue-100">
                <tr>
                    <th class="px-4 py-3">‡∏•‡∏≥‡∏î‡∏±‡∏ö</th>
                    <th class="px-4 py-3">‡∏ä‡∏∑‡πà‡∏≠ - ‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•</th>
                    <th class="px-4 py-3">‡∏≠‡∏≤‡∏¢‡∏∏</th>
                    <th class="px-4 py-3">‡∏≠‡∏≤‡∏ä‡∏µ‡∏û/‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ä‡∏±‡πâ‡∏ô</th>
                    <th class="px-4 py-3">‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡∏á‡∏≤‡∏ô/‡∏™‡∏ñ‡∏≤‡∏ô‡∏®‡∏∂‡∏Å‡∏©‡∏≤</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td colspan="5" class="px-4 py-6 text-center text-gray-400">
                        ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏û‡∏µ‡πà‡∏ô‡πâ‡∏≠‡∏á
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</div>

            </div>
<div class="flex flex-col items-center gap-4 pt-6 pb-12">
                <button type="button" id="editBtn" class="bg-yellow-400 hover:bg-yellow-500 text-blue-900 font-bold py-3 px-12 rounded-full shadow-md transition-all flex items-center gap-2">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                        <path d="M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z" />
                    </svg>
                    ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß
                </button>

                <button type="submit" id="saveBtn" disabled class="bg-blue-900 text-white font-bold py-3 px-20 rounded-full shadow-lg transition-all text-lg opacity-50 cursor-not-allowed">
                    üíæ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå
                </button>
                
                <p id="editHint" class="text-sm text-gray-500 italic">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° "‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß" ‡∏Å‡πà‡∏≠‡∏ô‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</p>
            </div>

        </form>
    </div>
</div>
<script>
    function toggleHousing() {
    const value = document.querySelector('input[name="housing_type"]:checked')?.value;

    document.getElementById("rentInput").style.display = value === "rent" ? "block" : "none";
    document.getElementById("otherHousingInput").style.display = value === "other" ? "block" : "none";
}

function toggleAgri() {
    const value = document.querySelector('input[name="agri_type"]:checked')?.value;

    document.getElementById("agriOwnInput").style.display = value === "own" ? "block" : "none";
    document.getElementById("agriRentBox").style.display = value === "rent" ? "flex" : "none";
    document.getElementById("agriOtherInput").style.display = value === "other" ? "block" : "none";
}
    const editBtn = document.getElementById('editBtn');
    const saveBtn = document.getElementById('saveBtn');
    const inputs = document.querySelectorAll('.editable-input');
    const editHint = document.getElementById('editHint');

    editBtn.addEventListener('click', () => {
        // 1. ‡∏õ‡∏•‡∏î‡∏•‡πá‡∏≠‡∏Å‡∏ä‡πà‡∏≠‡∏á input ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏•‡∏≤‡∏™ editable-input
        inputs.forEach(input => {
            input.removeAttribute('readonly');
            input.classList.remove('bg-gray-50', 'cursor-not-allowed');
            input.classList.add('bg-white', 'border-blue-300', 'focus:ring-2', 'focus:ring-blue-500');
        });

        // 2. ‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏õ‡∏∏‡πà‡∏°‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å
        saveBtn.removeAttribute('disabled');
        saveBtn.classList.remove('opacity-50', 'cursor-not-allowed');
        saveBtn.classList.add('hover:bg-blue-800', 'active:scale-95');

        // 3. ‡∏ã‡πà‡∏≠‡∏ô‡∏õ‡∏∏‡πà‡∏°‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç ‡πÅ‡∏•‡∏∞‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥
        editBtn.classList.add('hidden');
        editHint.textContent = "‡∏Ç‡∏ì‡∏∞‡∏ô‡∏µ‡πâ‡∏Ñ‡∏∏‡∏ì‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏î‡πâ‡πÅ‡∏•‡πâ‡∏ß ‡∏≠‡∏¢‡πà‡∏≤‡∏•‡∏∑‡∏°‡∏Å‡∏î‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô";
        editHint.classList.remove('text-gray-500');
        editHint.classList.add('text-green-600', 'font-medium');
    });
</script>
{% endblock %}