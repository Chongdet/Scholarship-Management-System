{% extends "layouts/base.html" %}

{% block nav_links %}
<nav class="flex items-center gap-8">
    <div class="flex items-center gap-8">
        <a href="{{ url_for('student.dashboard') }}" 
           class="text-white hover:text-yellow-400 hover:border-b-4 hover:border-yellow-400 px-1 py-2 text-sm font-medium transition-all">
            ‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å
        </a>
        <a href="{{ url_for('student.apply_scholarship') }}" 
           class="text-white hover:text-yellow-400 hover:border-b-4 hover:border-yellow-400 px-1 py-2 text-sm font-medium transition-all">
            ‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®/‡∏£‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ö
        </a>
        <a href="{{ url_for('student.track_status') }}" 
           class="text-white border-b-4 border-yellow-400 px-1 py-2 text-sm font-bold tracking-wide transition-all">
            ‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞
        </a>
    </div>
    <div class="h-8 w-px bg-blue-700/60 shadow-sm"></div>
</nav>
{% endblock %}

{% block role_name %}‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤{% endblock %}

{% block content %}
<div class="max-w-[90%] mx-auto py-10">
    <div class="bg-gray-200 rounded-3xl shadow-xl p-8 min-h-[570px] flex flex-col">
        <h2 class="text-3xl font-bold mb-8 text-blue-900">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡∏¢‡∏∑‡πà‡∏ô‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏ó‡∏∏‡∏ô‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤</h2>
        <div class="overflow-x-auto bg-white rounded-2xl shadow-sm">
            <table class="w-full text-left border-collapse">
                <thead>
                    <tr class="bg-gray-50 text-gray-600 uppercase text-xl font-bold">
                        <th class="p-4 border-b text-center">‡∏•‡∏≥‡∏î‡∏±‡∏ö</th>
                        <th class="p-4 border-b">‡∏ä‡∏∑‡πà‡∏≠‡∏ó‡∏∏‡∏ô‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤</th>
                        <th class="p-4 border-b text-center">‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏ó‡∏∏‡∏ô</th>
                        <th class="p-4 border-b text-center">‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô</th>
                        <th class="p-4 border-b text-center">‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤‡∏™‡∏°‡∏±‡∏Ñ‡∏£</th>
                        <th class="p-4 border-b text-center">‡πÑ‡∏ü‡∏•‡πå‡πÅ‡∏ô‡∏ö</th>
                        <th class="p-4 border-b text-center">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏°‡∏±‡∏Ñ‡∏£</th>
                        <th class="p-4 border-b text-center">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</th>
                    </tr>
                </thead>
                <tbody class="text-gray-700 text-xls">
                    {% for app in applications %}
                    <tr class="hover:bg-gray-50 transition-colors">
                        <td class="p-4 border-b text-center font-bold">{{ loop.index }}</td>
                        <td class="p-4 border-b font-medium">
                            <a href="{{ url_for('student.status_detail', app_id=app.id) }}" class="text-blue-900 hover:underline">
                                {{ app.scholarship_name }}
                            </a>
                        </td>
                        <td class="p-4 border-b text-center">{{ app.scholarship_type }}</td>
                        <td class="p-4 border-b text-center">{{ app.faculty }}</td>
                        <td class="p-4 border-b text-center text-[10px]">
                            {{ app.open_date.strftime('%d/%m/%Y') }} - {{ app.close_date.strftime('%d/%m/%Y') }}
                        </td>
                        <td class="p-4 border-b text-center">
                            <div class="flex justify-center gap-1.5">
                                {% for file in app.files %}
                                <span title="{{ file.name }}" class="text-lg cursor-help hover:scale-125 transition-transform">üìÑ</span>
                                {% endfor %}
                            </div>
                        </td>
                        <td class="p-4 border-b text-center">{{ app.created_at.strftime('%d/%m/%Y') }}</td>
                        <td class="p-4 border-b text-center">
                            <span class="px-3 py-1 rounded-full font-bold text-[10px] 
                                {% if app.status == '‡∏£‡∏≠‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö' %}  text-yellow-700
                                {% elif app.status == '‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏™‡∏±‡∏°‡∏†‡∏≤‡∏©‡∏ì‡πå' %}  text-blue-700
                                {% elif app.status == '‡∏õ‡∏è‡∏¥‡πÄ‡∏™‡∏ò' %}  text-red-700
                                {% elif app.status == '‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏ó‡∏∏‡∏ô' %}  text-green-700
                                {% else %} bg-gray-100 text-gray-700 {% endif %}">
                                {{ app.status }}
                            </span>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</div>
{% endblock %}